# Challenge Template: Docker-SSH-Switchboard

For challenges that need an isolated SSH server instance on-demand for each player.
Think OverTheWire.org.  And thank them, too, since we ripped most of this off from their Github...

## For Challenge Authors

Use `Dockerfile` as a starting template for your challenge's Dockerfile.
You should generally only have to add things where the "TODO" comments suggest.
Double-check with a veteran organizer before making any other changes.

Update the `IMAGE_BASE` and `SRC_SUBTREE` tuning variables in `Makefile` per the comments.

Update the `IMAGE_BASE` and `OUTER_PORT` tuning variables in `sshsb_conf.sh` per the comments.
You may also need to adjust the `dockeroptions` section of the boilerplate INI configuration generated by that script.
The template defaults are pretty locked down, which is actually what you want; check with a veteran organizer before loosening it up any.

Test, test, and test again!  If everything is correct, you should be able to update things on the live servers with a simple `git pull && make && sudo make install` inside your challenge subdirectory of the repo.

## For Infrastructure Admins

The hosting server must be running the `ssh-switchboard` service.
Run `make && sudo make install` in the `infra/servies/ssh-switchboard` subdirectory.
